<div class="page-body">
    <div class="row">
        <!-- customer project  start -->
        <div class="col-xl-3 col-md-6">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center m-l-0">
                        <div class="col-auto">
                            <i
                                class="fa fa-shopping-cart f-30 text-c-purple"
                            ></i>
                        </div>
                        <div class="col-auto">
                            <h6 class="text-muted m-b-10">Total de ventas</h6>
                            <h3 class="m-b-0">{{ ventas_totales }}</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center m-l-0">
                        <div class="col-auto">
                            <h6 class="text-muted m-b-10">
                                Pendientes de finalizar
                            </h6>
                            <h3 class="m-b-0">
                                {{ ventas_pendientes_finalizar }}
                            </h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center m-l-0">
                        <div class="col-auto">
                            <i class="fa fa-balance-scale f-30 text-c-red"></i>
                        </div>
                        <div class="col-auto">
                            <h6 class="text-muted m-b-10">Breath</h6>
                            <h3
                                class="m-b-0 {{
                                    diferencia_ventas_mes < 1
                                        ? 'text-c-red'
                                        : 'text-c-green'
                                }}"
                            >
                                {{
                                    diferencia_ventas_mes > 0
                                        ? "+" + diferencia_ventas_mes
                                        : diferencia_ventas_mes
                                }}
                            </h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center m-l-0">
                        <div class="col-auto">
                            <i class="fa fa-balance-scale f-30 text-c-blue"></i>
                        </div>
                        <div class="col-auto">
                            <h6 class="text-muted m-b-10">Mes actual</h6>
                            <h3 class="m-b-0">{{ ventas_mes_actual }}</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- NDC VENTAS -->
        <div class="col-md-4">
            <p *ngIf="puedeVerNdc">
                <button
                    type="button"
                    class="btn btn-outline-primary ms-2"
                    (click)="cambiarAcordeonVentas(1)"
                    [attr.aria-expanded]="isCollapsedAutorizar"
                    aria-controls="collapseExample"
                >
                    Autorizar Notas De Credito - Ventas
                </button>
                <span
                    *ngIf="pendientesVentas.length > 0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                    style="font-size: 15px"
                >
                    {{ pendientesVentas.length }}
                </span>
            </p>
            <div
                #collapse="ngbCollapse"
                [(ngbCollapse)]="isCollapsedAutorizar"
                [@smoothCollapse]="isCollapsedAutorizar ? 'initial' : 'final'"
            >
                <div class="col-md-12" *ngIf="puedeVerNdc">
                    <div class="card">
                        <div class="card-header">
                            <h5>Autorizaciones pendientes</h5>
                        </div>
                        <div class="card-block">
                            <section id="task-container">
                                <ul id="task-list">
                                    <ng-container
                                        *ngFor="let item of pendientesVentas"
                                    >
                                        <li
                                            style="
                                                width: 100% !important;
                                                cursor: default !important;
                                            "
                                        >
                                            <p>
                                                <b>{{ item.id_documento }}</b>
                                            </p>
                                            <p>
                                                <b>{{ item.no_venta }}</b>
                                            </p>
                                            <p>{{ item.solicitante }}</p>
                                            <small
                                                class="text-success messages block"
                                                >{{ item.created_at }} - Modulo:
                                                {{ item.modulo }}</small
                                            >
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <button
                                                        (click)="
                                                            goToLinkVentas()
                                                        "
                                                        class="btn btn-outline-info btn-sm m-t-10 btn-block"
                                                    >
                                                        Visualizar Solicitud
                                                    </button>
                                                </div>
                                                <div class="col-md-4">
                                                    <button
                                                        (click)="
                                                            autorizarNdc(
                                                                item.id,
                                                                item.id_documento,
                                                                item.modulo
                                                            )
                                                        "
                                                        class="btn btn-outline-success btn-sm m-t-10 btn-block"
                                                    >
                                                        Autorizar Solicitud
                                                    </button>
                                                </div>
                                                <div class="col-md-4">
                                                    <button
                                                        (click)="
                                                            rechazarNdc(
                                                                item.id,
                                                                item.id_documento
                                                            )
                                                        "
                                                        class="btn btn-outline-danger btn-sm m-t-10 btn-block"
                                                    >
                                                        Rechazar Solicitud
                                                    </button>
                                                </div>
                                            </div>
                                        </li>
                                    </ng-container>
                                </ul>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- NDC SOPORTE -->
        <div class="col-md-4">
            <p *ngIf="puedeVerNdc">
                <button
                    type="button"
                    class="btn btn-outline-primary ms-2"
                    (click)="cambiarAcordeonSoporte(1)"
                    [attr.aria-expanded]="isCollapsedAutorizarSoporte"
                    aria-controls="collapseExample"
                >
                    Autorizar Notas De Credito - Soporte
                </button>
                <span
                    *ngIf="pendientesSoporte.length > 0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                    style="font-size: 15px"
                >
                    {{ pendientesSoporte.length }}
                </span>
            </p>
            <div
                #collapse="ngbCollapse"
                [(ngbCollapse)]="isCollapsedAutorizarSoporte"
                [@smoothCollapse]="
                    isCollapsedAutorizarSoporte ? 'initial' : 'final'
                "
            >
                <div class="col-md-12" *ngIf="puedeVerNdc">
                    <div class="card">
                        <div class="card-header">
                            <h5>Autorizaciones pendientes</h5>
                        </div>
                        <div class="card-block">
                            <section id="task-container">
                                <ul id="task-list">
                                    <ng-container
                                        *ngFor="let item of pendientesSoporte"
                                    >
                                        <li
                                            style="
                                                width: 100% !important;
                                                cursor: default !important;
                                            "
                                        >
                                            <p>
                                                <b
                                                    >{{ item.documento }} -
                                                    {{
                                                        item.documento_garantia
                                                    }}</b
                                                >
                                            </p>

                                            <p>{{ item.solicitante }}</p>
                                            <small
                                                class="text-success messages block"
                                                >{{ item.created_at }} - Modulo:
                                                {{
                                                    item.modulo == "D"
                                                        ? "Devoulciones"
                                                        : "Garantias"
                                                }}</small
                                            >
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <button
                                                        (click)="
                                                            goToLinkSoporte()
                                                        "
                                                        class="btn btn-outline-info btn-sm m-t-10 btn-block"
                                                    >
                                                        Visualizar Solicitud
                                                    </button>
                                                </div>
                                            </div>
                                        </li>
                                    </ng-container>
                                </ul>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- NDC SIN VENTA -->
        <div class="col-md-4">
            <p *ngIf="puedeVerNdc">
                <button
                    type="button"
                    class="btn btn-outline-primary ms-2"
                    (click)="cambiarAcordeonSinVenta(1)"
                    [attr.aria-expanded]="isCollapsedAutorizarSinVenta"
                    aria-controls="collapseExample"
                >
                    Autorizar Notas De Credito - Sin Venta
                </button>
                <span
                    *ngIf="pendientesSinVenta.length > 0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                    style="font-size: 15px"
                >
                    {{ pendientesSinVenta.length }}
                </span>
            </p>
            <div
                #collapse="ngbCollapse"
                [(ngbCollapse)]="isCollapsedAutorizarSinVenta"
                [@smoothCollapse]="
                    isCollapsedAutorizarSinVenta ? 'initial' : 'final'
                "
            >
                <div class="col-md-12" *ngIf="puedeVerNdc">
                    <div class="card">
                        <div class="card-header">
                            <h5>Autorizaciones pendientes</h5>
                        </div>
                        <div class="card-block">
                            <section id="task-container">
                                <ul id="task-list">
                                    <ng-container
                                        *ngFor="let item of pendientesSinVenta"
                                    >
                                        <li
                                            style="
                                                width: 100% !important;
                                                cursor: default !important;
                                            "
                                        >
                                            <p>
                                                <b>{{ item.id_documento }}</b>
                                            </p>

                                            <p>{{ item.solicitante }}</p>
                                            <small
                                                class="text-success messages block"
                                                >{{ item.created_at }} - Modulo:
                                                {{ item.modulo }}</small
                                            >
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <button
                                                        (click)="
                                                            goToLinkSinVenta()
                                                        "
                                                        class="btn btn-outline-info btn-sm m-t-10 btn-block"
                                                    >
                                                        Visualizar Solicitud
                                                    </button>
                                                </div>
                                            </div>
                                        </li>
                                    </ng-container>
                                </ul>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
