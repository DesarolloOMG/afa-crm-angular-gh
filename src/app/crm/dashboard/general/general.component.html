<div class="page-body">
    <!-- MÃ‰TRICAS -->
    <div class="row mb-4">
        <div class="col-xl-3 col-md-6 mb-3" *ngFor="let card of metricCards">
            <div class="card h-100 metric-card shadow-sm border-0" [ngClass]="card.cardBorderClass">
                <div class="card-body d-flex align-items-center justify-content-between py-3">
                    <div>
                        <div class="text-muted" style="font-size: 1.1rem;">{{ card.title }}</div>
                        <div>
                            <span class="metric-number" [ngClass]="card.textClass">{{ card.value }}</span>
                        </div>
                    </div>
                    <span [ngClass]="card.iconClass" class="metric-icon ml-3"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- NOTIFICACIONES GENERALES -->
    <div class="row mb-4" *ngIf="notificaciones.length > 0">
        <div class="col-12">
            <div class="card notificaciones-card">
                <div class="card-header bg-gradient-primary text-white d-flex align-items-center py-2">
                    <i class="fa fa-bell f-24 mr-2"></i>
                    <span class="ml-2 font-weight-normal" style="font-size: 1.1rem; font-weight: 400 !important;">Notificaciones</span>
                    <span class="badge badge-danger ml-2" *ngIf="notificaciones.length">{{ notificaciones.length }}</span>
                </div>
                <div class="card-body py-2 px-3" style="max-height: 220px; overflow-y: auto;">
                    <ul class="list-group list-group-flush">
                        <li *ngFor="let noti of notificaciones" class="list-group-item py-2 px-0 d-flex align-items-start noti-item">
                        <span>
                            <i
                                class="fa"
                                [ngClass]="[
                                            getIconClass(noti.tipo),
                                            getIconColor(noti.tipo)
                                          ]"
                                style="font-size: 1.25em; margin-right: 12px; min-width:1.3em;"
                            ></i>
                        </span>
                            <div style="flex:1">
                                <span class="noti-title font-weight-bold">{{ noti.titulo || noti.title }}</span>
                                <div class="noti-message">{{ noti.message || noti.mensaje }}</div>
                            </div>
                            <span class="ml-2 text-muted" style="font-size:0.95em; min-width: 116px; text-align: right;">{{ noti.fecha || '' }}</span>
                        </li>
                        <li *ngIf="notificaciones.length == 0" class="list-group-item text-muted">No hay notificaciones recientes.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
